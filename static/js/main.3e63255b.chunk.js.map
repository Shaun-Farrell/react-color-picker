{"version":3,"sources":["utils/rgbCalcs.ts","utils/pickerHelper.ts","components/Picker.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["calcScale","fraction","lower","range","inverse","newFraction","rounded","Math","round","componentToHex","c","hex","toString","length","rgbToHex","r","g","b","setTargetColor","yCoord","setTarget","setHex","setCursorPnl","resetCursor","height","y","num","calculateGreen","calculateBlue","setNewHex","coords","setCursor","target","width","x","yAdjusted","diff","adjustForYMovement","adjustForXMovement","addGradient","context","start","gradientBig","createLinearGradient","canvas","multiplier","addColorStop","fillStyle","fillRect","SQ_SIDE","Picker","canvasRef","useRef","canvasPanelRef","useState","main","panel","mouseDown","setMouseDown","cursor","cursorPnl","useEffect","current","getContext","orig","canvasPanel","contextSmall","gradient","className","onMouseDown","e","preventDefault","nativeEvent","offsetX","offsetY","prevState","onMouseUp","onMouseOut","onMouseMove","data-testid","ref","style","top","left","backgroundColor","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e63255b.chunk.js","sourcesContent":["// Red RULES\n// red varies between 0.6 and 0.75 upward\n// red varies between 0.3 and 0.15 downward\n// red below 0.15 is 255\n// red above 0.75 is 255\nexport const calculateRed = (fraction: number) => {\n  return fraction >= 0.75 || fraction <= 0.15\n    ? 255\n    : fraction > 0.6 && fraction < 0.75\n    ? calcScale(fraction, 0.6, 0.15, false)\n    : fraction > 0.15 && fraction <= 0.3\n    ? calcScale(fraction, 0.15, 0.15, true)\n    : 0;\n};\n\n// Green RULES\n// green varies between 0.3 and 0.45 upward\n// green varies between 0.75 and 1 downwards\n// green below 0.3 is 0\n// otherwise 255\nexport const calculateGreen = (fraction: number) => {\n  return fraction > 0.3 && fraction <= 0.45\n    ? calcScale(fraction, 0.3, 0.15, false)\n    : fraction > 0.75 && fraction <= 1\n    ? calcScale(fraction, 0.75, 0.25, true)\n    : fraction <= 0.3\n    ? 0\n    : 255;\n};\n\n// Blue RULES\n// green varies between 0 and 0.15 upwards\n// green varies between 0.45 and 6 downwards\n// green above 0.6 is 0\n// otherwise 255\nexport const calculateBlue = (fraction: number) => {\n  return fraction >= 0 && fraction < 0.15\n    ? calcScale(fraction, 0, 0.15, false)\n    : fraction > 0.45 && fraction < 0.6\n    ? calcScale(fraction, 0.45, 0.15, true)\n    : fraction > 0.6\n    ? 0\n    : 255;\n};\n\n// Full example\n// 0.65 red\n// 0.05 above the lower point (0.6)\n// 0.05/0.15 = 0.33 (or 33%)\n// 0.33 * 255 = 85\nexport const calcScale = (\n  fraction: number,\n  lower: number,\n  range: number,\n  inverse: boolean\n) => {\n  // How much above the lower range are we\n  const delta = fraction - lower;\n  // How much is this as a fraction of the total range.\n  const newFraction = delta / range;\n  // Return that fraction of the total (255)\n  const rounded = Math.round(newFraction * 255);\n  return inverse ? 255 - rounded : rounded;\n};\n\nconst componentToHex = (c: number) => {\n  var hex = c.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n};\n\nexport const rgbToHex = (r: number, g: number, b: number) => {\n  return componentToHex(r) + componentToHex(g) + componentToHex(b);\n};\n\nexport const adjustForXMovement = (target: number[], fraction: number) => {\n  const diff = [255 - target[0], 255 - target[1], 255 - target[2]];\n  return [\n    255 - Math.round(diff[0] * fraction),\n    255 - Math.round(diff[1] * fraction),\n    255 - Math.round(diff[2] * fraction),\n  ];\n};\n\nexport const adjustForYMovement = (target: number[], fraction: number) => {\n  const diff = [target[0], target[1], target[2]];\n  return [\n    target[0] - Math.round(diff[0] * fraction),\n    target[1] - Math.round(diff[1] * fraction),\n    target[2] - Math.round(diff[2] * fraction),\n  ];\n};\n","import {\n  calculateRed,\n  calculateBlue,\n  calculateGreen,\n  rgbToHex,\n  adjustForXMovement,\n  adjustForYMovement,\n} from \"./rgbCalcs\";\n\nexport const setTargetColor = (\n  yCoord: number,\n  setTarget: any,\n  setHex: any,\n  setCursorPnl: any,\n  resetCursor: any,\n  height: number\n) => {\n  let y = yCoord;\n  y = y < 0 ? 0 : y > height ? height : y; // handle border\n  const num = y / height;\n  const r = calculateRed(num);\n  const g = calculateGreen(num);\n  const b = calculateBlue(num);\n  setTarget([r, g, b]);\n  setCursorPnl({ y: y - 10 });\n  resetCursor();\n  setHex(`#${rgbToHex(r, g, b)}`);\n};\n\nexport const setNewHex = (\n  coords: { x: number; y: number },\n  setHex: any,\n  setCursor: any,\n  target: number[],\n  height: number,\n  width: number\n) => {\n  let { x, y } = coords;\n  y = y < 0 ? 0 : y > height ? height : y; // handle border\n  x = x < 0 ? 0 : x > width ? width : x; // handle border\n  const xAdjusted = adjustForXMovement(target, x / width);\n  const yAdjusted = adjustForYMovement(xAdjusted, y / height);\n  setHex(`#${rgbToHex(yAdjusted[0], yAdjusted[1], yAdjusted[2])}`);\n  setCursor({ x: x - 10, y: y - 10 });\n};\n\nexport const addGradient = (\n  context: CanvasRenderingContext2D,\n  start: number,\n  diff: number[],\n  width: number\n) => {\n  const gradientBig = context.createLinearGradient(\n    0,\n    0,\n    0,\n    context.canvas.height\n  );\n  const multiplier = (width / 255) * start;\n  const r = 255 - diff[0] * (multiplier / 255);\n  const g = 255 - diff[1] * (multiplier / 255);\n  const b = 255 - diff[2] * (multiplier / 255);\n  gradientBig.addColorStop(\n    0,\n    `rgb(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`\n  );\n  gradientBig.addColorStop(1, \"rgb(0, 0, 0)\");\n  context.fillStyle = gradientBig;\n  context.fillRect(start, 0, 1, context.canvas.height);\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { setTargetColor, addGradient, setNewHex } from \"../utils/pickerHelper\";\nimport \"../App.css\";\nconst SQ_SIDE = 350;\n\nexport default function Picker() {\n  const canvasRef = useRef(null);\n  const canvasPanelRef = useRef(null);\n  const [hex, setHex] = useState(\"#FF0000\");\n  const [mouseDown, setMouseDown] = useState({ main: false, panel: false });\n  const [target, setTarget] = useState([255, 0, 0]);\n  const [cursor, setCursor] = useState({ x: SQ_SIDE - 10, y: -10 });\n  const [cursorPnl, setCursorPnl] = useState({ y: -10 });\n  const resetCursor = () => setCursor({ x: SQ_SIDE - 10, y: -10 });\n\n  useEffect(() => {\n    const canvas: any = canvasRef.current;\n    const context: CanvasRenderingContext2D = canvas?.getContext(\"2d\");\n    const orig = [255, 255, 255];\n    const diff = [\n      orig[0] - target[0],\n      orig[1] - target[1],\n      orig[2] - target[2],\n    ];\n    const width = context.canvas.width;\n    for (let x = 0; x <= width; x++) {\n      addGradient(context, x, diff, width);\n    }\n    const canvasPanel: any = canvasPanelRef.current;\n    const contextSmall = canvasPanel?.getContext(\"2d\");\n    let gradient = context.createLinearGradient(\n      0,\n      0,\n      0,\n      contextSmall.canvas.height\n    );\n\n    gradient.addColorStop(0, \"rgb(255, 0, 0)\");\n    gradient.addColorStop(0.15, \"rgb(255, 0, 255)\");\n    gradient.addColorStop(0.3, \"rgb(0, 0, 255)\");\n    gradient.addColorStop(0.45, \"rgb(0, 255, 255)\");\n    gradient.addColorStop(0.6, \"rgb(0, 255, 0)\");\n    gradient.addColorStop(0.75, \"rgb(255, 255, 0)\");\n    gradient.addColorStop(1, \"rgb(255, 0, 0)\");\n\n    contextSmall.fillStyle = gradient;\n    contextSmall.fillRect(\n      0,\n      0,\n      contextSmall.canvas.width,\n      contextSmall.canvas.height\n    );\n  }, [target]);\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"relative-container\">\n          <canvas\n            onMouseDown={(e) => {\n              e.preventDefault();\n              const x = e.nativeEvent.offsetX;\n              const y = e.nativeEvent.offsetY;\n              setMouseDown((prevState) => ({ ...prevState, main: true }));\n              setNewHex({ x, y }, setHex, setCursor, target, SQ_SIDE, SQ_SIDE);\n            }}\n            onMouseUp={() =>\n              setMouseDown((prevState) => ({ ...prevState, main: false }))\n            }\n            onMouseOut={() =>\n              setMouseDown((prevState) => ({ ...prevState, main: false }))\n            }\n            onMouseMove={(e) => {\n              if (mouseDown.main) {\n                setNewHex(\n                  { x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY },\n                  setHex,\n                  setCursor,\n                  target,\n                  SQ_SIDE,\n                  SQ_SIDE\n                );\n              }\n            }}\n            className=\"canvas\"\n            data-testid=\"canvas\"\n            ref={canvasRef}\n          />\n          <div className=\"circle\" style={{ top: cursor.y, left: cursor.x }} />\n        </div>\n        <div className=\"relative-container\">\n          <canvas\n            onMouseDown={(e) => {\n              e.preventDefault();\n              setMouseDown((prevState) => ({ ...prevState, panel: true }));\n              setTargetColor(\n                e.nativeEvent.offsetY,\n                setTarget,\n                setHex,\n                setCursorPnl,\n                resetCursor,\n                SQ_SIDE\n              );\n            }}\n            onMouseUp={() =>\n              setMouseDown((prevState) => ({ ...prevState, panel: false }))\n            }\n            onMouseOut={() =>\n              setMouseDown((prevState) => ({ ...prevState, panel: false }))\n            }\n            onMouseMove={(e) => {\n              if (mouseDown.panel) {\n                setTargetColor(\n                  e.nativeEvent.offsetY,\n                  setTarget,\n                  setHex,\n                  setCursorPnl,\n                  resetCursor,\n                  SQ_SIDE\n                );\n              }\n            }}\n            className=\"canvasPanel\"\n            data-testid=\"canvasPanel\"\n            ref={canvasPanelRef}\n          />\n          <div className=\"circle\" style={{ top: cursorPnl.y, left: 30 }} />\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"label\">HEX: </div>\n        <div className=\"hex\">{hex}</div>\n        <div className=\"current\" style={{ backgroundColor: hex }}></div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport Picker from \"./components/Picker\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Colour Picker</h1>\n      <Picker />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}